(this.webpackJsonpapp2=this.webpackJsonpapp2||[]).push([[0],{109:function(e,c,t){},138:function(e,c,t){"use strict";t.r(c);var s=t(2),r=t.n(s),n=t(25),i=t.n(n),a=t(11),o=t(7),l=t(38),j=t(3),d=t(63).default,b=Object(s.createContext)(),h=function(e){var c=e.children,t=Object(s.useState)(JSON.parse(localStorage.getItem("user"))||null),r=Object(l.a)(t,2),n=r[0],i=r[1];Object(s.useEffect)((function(){try{localStorage.setItem("user",JSON.stringify(n))}catch(e){localStorage.removeItem("user"),console.log(e)}}),[n]);var a={user:n,login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t={correo:e,password:c};d.post("https://project-desarrollo.herokuapp.com/api/login",t).then((function(e){console.log(JSON.stringify(e.data));var c=e.data;i({nombre:c.usuario.nombre,rol:c.usuario.rol,correo:c.usuario.correo,token:c.token})})).catch((function(e){console.log(e)}))},logout:function(){i(null)},isLogged:function(){return!!n}};return Object(j.jsx)(b.Provider,{value:a,children:c})};t(109),t(72),t(73);function x(){return Object(s.useContext)(b)}function m(){var e,c=x(),t=Object(o.g)(),s=null===(e=Object(o.h)().state)||void 0===e?void 0:e.from;return Object(j.jsx)("div",{className:"grada",children:Object(j.jsx)("section",{className:"ftco-section w-100 h-100",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"row justify-content-center",children:Object(j.jsx)("div",{className:"col-md-6 text-center mb-5",children:Object(j.jsx)("h2",{className:"heading-section",children:"Login"})})}),Object(j.jsx)("div",{className:"row justify-content-center",children:Object(j.jsx)("div",{className:"col-md-6 col-lg-5",children:Object(j.jsxs)("div",{className:"login-wrap p-4 p-md-5",children:[Object(j.jsx)("div",{className:"icon d-flex align-items-center justify-content-center",children:Object(j.jsx)("span",{className:"fa fa-user-o"})}),Object(j.jsxs)("div",{className:"login-form",children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{id:"user",type:"text",className:"form-control rounded-left",placeholder:"Username",required:!0})}),Object(j.jsx)("div",{className:"form-group d-flex",children:Object(j.jsx)("input",{id:"pass",type:"password",className:"form-control rounded-left",placeholder:"Password",required:!0})}),Object(j.jsx)("div",{className:"form-group text-center",children:Object(j.jsx)("button",{className:"btn btn-primary rounded p-3 px-5 ",onClick:function(){var e=document.getElementById("user").value,r=document.getElementById("pass").value;c.login(e,r),t.push(s||"/")},children:"Ingresar"})})]})]})})})]})})})}var u=t(41),O=t(58);function p(e){var c=e.component,t=Object(O.a)(e,["component"]),s=x();return Object(j.jsx)(o.b,Object(u.a)(Object(u.a)({},t),{},{children:s.isLogged()?Object(j.jsx)(o.a,{exact:!0,to:"/"}):Object(j.jsx)(c,{})}))}function f(e){var c=e.component,t=Object(O.a)(e,["component"]),s=x(),r=Object(o.h)();return Object(j.jsx)(o.b,Object(u.a)(Object(u.a)({},t),{},{children:s.isLogged()?Object(j.jsx)(c,{}):Object(j.jsx)(o.a,{to:{pathname:"/login",state:{from:r}}})}))}var v=t(21),N=function(e){var c=x(),t=Object(s.useState)(!1),r=Object(l.a)(t,2),n=r[0],i=r[1];return Object(j.jsx)("div",{children:Object(j.jsxs)(v.f,{color:"dark",dark:!0,expand:"md",light:!0,children:[Object(j.jsx)(v.g,{href:"/",children:"Escuela.org"}),Object(j.jsx)(v.h,{onClick:function(){return i(!n)}}),Object(j.jsx)(v.a,{navbar:!0,isOpen:n,children:Object(j.jsx)(v.e,{className:"ms-auto",navbar:!0,children:Object(j.jsxs)(v.i,{inNavbar:!0,nav:!0,children:[Object(j.jsx)(v.d,{caret:!0,nav:!0,children:c.user.nombre}),Object(j.jsxs)(v.c,{end:!0,children:[Object(j.jsx)(v.b,{children:Object(j.jsx)(a.b,{className:"text-dark navlink",to:"/Perfil",children:"Perfil"})}),Object(j.jsx)(v.b,{children:Object(j.jsx)(a.b,{className:"text-dark navlink",to:"/Cursos",children:"Cursos"})}),Object(j.jsx)(v.b,{onClick:function(){c.logout()},children:"Salir"})]})]})})})]})})},g=t(85),y=t(84),k=t(83),w=function(e){return Object(j.jsx)("div",{className:"sidebar bg-light toggle",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsxs)(a.b,{to:"/",className:"text-dark rounded py-2 w-100 d-inline-block px-3",exact:!0,activeClassName:"active",children:[Object(j.jsx)(k.a,{className:"me-2"}),"Inicio"]})}),Object(j.jsx)("li",{children:Object(j.jsxs)(a.b,{to:"/cursos",className:"text-dark rounded py-2 w-100 d-inline-block px-3",exact:!0,activeClassName:"active",children:[Object(j.jsx)(y.a,{className:"me-2"}),"Cursos"]})}),Object(j.jsx)("li",{children:Object(j.jsxs)(a.b,{to:"/perfil",className:"text-dark rounded py-2 w-100 d-inline-block px-3",exact:!0,activeClassName:"active",children:[Object(j.jsx)(g.a,{className:"me-2"}),"Perfil"]})})]})})},C=function(){return Object(j.jsxs)("div",{className:"container text-center",children:[Object(j.jsx)("img",{className:"my-1 py-2 w-100 rounded",src:"https://dailyverses.net/images/es/nvi/xl/proverbios-16-3-2.jpg",alt:"..."}),Object(j.jsx)(a.b,{className:"btn btn-primary",to:"/crear",children:"Crear Usuario"})]})},E=t(40),I=t.n(E),S=t(57),A=function(){var e=x(),c=Object(s.useState)(),t=Object(l.a)(c,2),r=t[0],n=t[1];return Object(s.useEffect)((function(){(function(){var c=Object(S.a)(I.a.mark((function c(){var t;return I.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:(t=new Headers).append("x-token",e.user.token),fetch("https://project-desarrollo.herokuapp.com/api/cursos/",{method:"GET",headers:t,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){return n(e.cursos)})).catch((function(e){return console.log("error",e)}));case 4:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("blockquote",{className:"blockquote",children:Object(j.jsx)("h1",{className:"mx-2 text-center",children:"Listado de Cursos"})}),r?r.map((function(e,c){return Object(j.jsx)("div",{className:"card w-100",children:Object(j.jsx)("ul",{className:"list-group list-group-flush",children:Object(j.jsxs)("li",{className:"list-group-item text-left",children:[e.nombre,Object(j.jsx)("button",{type:"button",className:"btn btn-primary float-right ",children:Object(j.jsx)(a.b,{to:"/cursos/".concat(e._id),className:"text-dark d-inline-block navlink",children:"Ver Actividades"})})]})})},c)})):"cargando..."]})},F=function(){var e=x();return Object(j.jsx)("div",{className:"container bg-dark",children:Object(j.jsxs)("div",{className:"card text-dark mb-3",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h1",{children:"Perfil del Usuario"})}),Object(j.jsxs)("div",{className:"row align-items-start",children:[Object(j.jsxs)("div",{className:"col",children:[" ",Object(j.jsx)("img",{src:"https://d500.epimg.net/cincodias/imagenes/2016/07/04/lifestyle/1467646262_522853_1467646344_noticia_normal.jpg",alt:"Logo",width:"200px"})," "]}),Object(j.jsxs)("div",{className:"col",width:"200px",children:[Object(j.jsx)("h3",{className:"card-title",children:e.user.nombre}),Object(j.jsx)("h4",{className:"card-text",children:e.user.correo}),Object(j.jsx)("h4",{className:"card-text",children:e.user.rol})]})]})]})})},L=t(63);function P(){var e=Object(o.g)(),c=x(),t=function(){var t=Object(S.a)(I.a.mark((function t(){var s,r,n,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=document.getElementById("nombre").value+" "+document.getElementById("apellidos").value,!0,r=document.getElementById("correo").value,"123456",n=document.getElementById("rol").value,i={nombre:s,estado:true,correo:r,password:"123456",rol:n},(new Headers).append("x-token",c.user.token),{method:"post",url:"https://project-desarrollo.herokuapp.com/api/usuarios/",headers:{"x-token":c.user.token},body:i},L.post("https://project-desarrollo.herokuapp.com/api/usuarios/",i,{headers:{"x-token":c.user.token}}).then((function(e){console.log(JSON.stringify(e.data))})).catch((function(e){console.log(e.response)})),e.push("/");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:"Crear Estudiante"}),Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"nombre",children:"Nombre"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre",id:"nombre"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"apellidos",children:"Apellidos"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Apellidos",id:"apellidos"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Direcci\xf3n",id:"direccion"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"identificacion",children:"Numero de Identificaci\xf3n"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Numero de Identificaci\xf3n",id:"identificacion"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"telefono",children:"Numero de Telefono"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Numero de Telefono",id:"numero"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"correo",children:"Correo Electronico"}),Object(j.jsx)("input",{type:"email",className:"form-control",placeholder:"Correo Electronico",id:"correo"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"fecha",children:"Fecha de Nacimiento"}),Object(j.jsx)("input",{type:"date",id:"fecha",name:"fecha",min:"1990-01-01"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"carrera",children:"Seleccione su Carrera"}),Object(j.jsx)("div",{className:"carrera",children:Object(j.jsxs)("select",{children:[Object(j.jsx)("option",{defaultValue:"selected",children:"Ingenieria en Sistemas"}),Object(j.jsx)("option",{children:"Ingenieria Civil"}),Object(j.jsx)("option",{children:"Ingenieria en Electrisidad"}),Object(j.jsx)("option",{children:"Ingenieria en Mecatronica"}),Object(j.jsx)("option",{children:"Ciencias Juridicas y Sociales"}),Object(j.jsx)("option",{children:"Ciencias de la Salud"}),Object(j.jsx)("option",{children:"Enfermeria"}),Object(j.jsx)("option",{children:"Profesorado"}),Object(j.jsx)("option",{children:"Licenciatura en Psicologia"}),Object(j.jsx)("option",{children:"Criminologia"}),Object(j.jsx)("option",{children:"Auditoria"})]})})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"rol",children:"Seleccione su usuario"}),Object(j.jsx)("div",{className:"rol",children:Object(j.jsxs)("select",{id:"rol",children:[Object(j.jsx)("option",{value:"ESTUDIANTE_ROLE",children:"Estudiante"}),Object(j.jsx)("option",{value:"CATEDRATICO_ROLE",children:"Catedratico"}),Object(j.jsx)("option",{value:"ADMIN_ROLE",children:"Administracion"})]})})]}),Object(j.jsx)("div",{className:"clearfix"}),Object(j.jsxs)("button",{className:"btn btn-info btn-lg btn-responsive ",id:"crear",onClick:t,children:["  ",Object(j.jsxs)("h1",{children:[Object(j.jsx)("span",{className:"glyphicon glyphicon-user"}),"Crear Usuario"]})]})]})]})}var T=function(){return Object(j.jsx)("footer",{children:Object(j.jsx)("div",{className:"footer-basic",children:Object(j.jsxs)("footer",{children:[Object(j.jsxs)("div",{className:"social",children:[Object(j.jsx)("a",{href:"/404",children:Object(j.jsx)("i",{className:"icon ion-social-instagram"})}),Object(j.jsx)("a",{href:"/",children:Object(j.jsx)("i",{className:"icon ion-social-snapchat"})}),Object(j.jsx)("a",{href:"/",children:Object(j.jsx)("i",{className:"icon ion-social-twitter"})}),Object(j.jsx)("a",{href:"/",children:Object(j.jsx)("i",{className:"icon ion-social-facebook"})})]}),Object(j.jsxs)("ul",{className:"list-inline",children:[Object(j.jsx)("li",{className:"list-inline-item",children:Object(j.jsx)("a",{href:"/404",children:"Home"})}),Object(j.jsx)("li",{className:"list-inline-item",children:Object(j.jsx)("a",{href:"/404",children:"Services"})}),Object(j.jsx)("li",{className:"list-inline-item",children:Object(j.jsx)("a",{href:"/404",children:"About"})}),Object(j.jsx)("li",{className:"list-inline-item",children:Object(j.jsx)("a",{href:"/404",children:"Terms"})}),Object(j.jsx)("li",{className:"list-inline-item",children:Object(j.jsx)("a",{href:"/404",children:"Privacy Policy"})})]}),Object(j.jsx)("p",{className:"copyright",children:"Escuela.org 2021"})]})})})};function _(){return Object(j.jsxs)(a.a,{children:[Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)(w,{}),Object(j.jsxs)("div",{className:"content w-100",children:[Object(j.jsx)(N,{}),Object(j.jsx)(o.b,{path:"/",exact:!0,component:C}),Object(j.jsx)(o.b,{path:"/crear",exact:!0,component:P}),Object(j.jsx)(o.b,{path:"/cursos",exact:!0,component:A}),Object(j.jsx)(o.b,{path:"/perfil",exact:!0,component:F}),Object(j.jsx)(o.b,{path:"/registro",exact:!0,component:P})]}),Object(j.jsx)("hr",{})]}),Object(j.jsx)(T,{})]})}var B=function(){return Object(j.jsx)(h,{children:Object(j.jsx)(a.a,{children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(p,{path:"/login",component:m}),Object(j.jsx)(f,{path:"/",component:_})]})})})};t(137);i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(B,{})}),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.8ec8bed2.chunk.js.map